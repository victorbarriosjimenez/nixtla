<app-navigation></app-navigation>
<div class="home-container">
    <div  class="container-fluid" *ngIf="promoter">
        <div class="row">        
          <div class="col-md-4 col-sm-12 col-xs-12 col-lg-4">
              <img  [ngClass]="{ 'promoter-active': promoter.status, 'promoter-unactive': !promoter.status }" 
                    class="supervisor-avatar" 
                    src="{{ promoter.image }}" 
                    alt="{{ promoter.name }}">      
              <p>
                 <strong> <mat-icon>person</mat-icon>  Información del promotor</strong>                       
              </p>
              <p> <strong>Nombre:</strong> {{ promoter.name }} </p> 
              <p> <strong>Fecha de Nacimiento:</strong> {{ promoter.birthDate | date:'dd/MM/yyyy'  }} </p>             
              <p> <strong>Email:</strong> {{ promoter.email }} </p>             
              <p> <strong>Ubicación:</strong> {{ promoter.city }} , {{ promoter.state }} </p>                                                            
              <p> <strong>Dirección:</strong> {{ promoter.address }} , {{ promoter.postalCode }} </p>                                                                                                                               
              <p>           
                  <strong>Salario:</strong> {{ promoter.salary | currency:'MXN':'.2' }} 
                  <br>                        
                  <strong>Fecha de inicio de contrato:</strong> {{ promoter.contractDateBegin | date:'dd/MM/yyyy'   }}  
                  <br>                        
                  <strong>Fecha de fin de contrato:</strong> {{ promoter.contractDateExp | date:'dd/MM/yyyy'   }}                         
                  </p>                          
          </div>
          <div class="col-md-8 col-sm-12 col-xs-12 col-lg-8">
              <mat-tab-group class="demo-tab-group">
                    <mat-tab label="Tab 1">
                      <ng-template mat-tab-label>
                        <mat-icon>perm_contact_calendar</mat-icon>
                      </ng-template>
                      <div class="demo-tab-content">
                            <mwl-demo-utils-calendar-header
                            [(view)]="view"
                            [(viewDate)]="viewDate">
                            </mwl-demo-utils-calendar-header>
                            <div class="alert alert-warning" *ngIf="period?.events.length === 0">
                            There are no events on this {{ view }}
                            </div>
                            <div [ngSwitch]="view">
                                <mwl-calendar-month-view
                                    *ngSwitchCase="'month'"
                                    [viewDate]="viewDate"
                                    [events]="events"
                                    [activeDayIsOpen]="true"
                                    (beforeViewRender)="beforeViewRender($event)">
                                </mwl-calendar-month-view>
                                <mwl-calendar-week-view
                                    *ngSwitchCase="'week'"
                                    [viewDate]="viewDate"
                                    [events]="events"
                                    (beforeViewRender)="beforeViewRender($event)">
                                </mwl-calendar-week-view>
                                <mwl-calendar-day-view
                                    *ngSwitchCase="'day'"
                                    [viewDate]="viewDate"
                                    [events]="events"
                                    (beforeViewRender)="beforeViewRender($event)">
                                </mwl-calendar-day-view>
                            </div>
                    </div>
                    </mat-tab>
                    <mat-tab label="Tab 2" [disabled]="!promoter.status">
                      <ng-template mat-tab-label>
                        <mat-icon>playlist_add</mat-icon>
                      </ng-template>
                      <div class="demo-tab-content">
                        <form (ngSubmit)="setNewPromoterEvent()" [formGroup]="eventForm">
                            <mat-form-field class="full-width">
                                    <mat-select 
                                            required
                                            placeholder="Selecciona una sucursal"
                                            formControlName="branchFormControl">
                                        <mat-option *ngFor="let branch of branches | async" [value]="branch.uid">
                                            <img style="vertical-align:middle;" aria-hidden src="{{branch.image}}" height="35" />
                                            <span>{{ branch.name }}</span>
                                        </mat-option>
                                    </mat-select>
                            </mat-form-field>
                              <table class="full-width">
                                <tr>
                                  <td>
                                      <mat-form-field class="full-width">
                                          <input   
                                                matInput 
                                                [matDatepicker]="picker" 
                                                placeholder="Fecha de inicio de evento"
                                                formControlName="eventDateBeginFormControl">
                                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                            <mat-datepicker #picker></mat-datepicker>
                                      </mat-form-field>
                                  </td>
                                  <td>
                                      <mat-form-field class="full-width">
                                          <input   
                                                matInput 
                                                [matDatepicker]="picker2" 
                                                placeholder="Fecha de fin de evento"
                                                formControlName="eventDateExpFormControl">
                                            <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                                            <mat-datepicker #picker2></mat-datepicker>
                                      </mat-form-field>
                                  </td>
                                </tr>
                                <tr>
                                  <td>
                                      <mat-form-field class="full-width">
                                          <mat-select 
                                                  required
                                                  placeholder="Horario de entrada"
                                                  formControlName="hourWorkdayBeginFormControl">
                                              <mat-option *ngFor="let openSched of openSchedules" [value]="openSched.valueTime">
                                                      {{ openSched.sched }}
                                              </mat-option>
                                          </mat-select>
                                      </mat-form-field>
                                  </td>
                                  <td>
                                      <mat-form-field class="full-width">
                                          <mat-select 
                                                  required
                                                  placeholder="Horario de salida"
                                                  formControlName="hourWorkdayEndFormControl">
                                              <mat-option *ngFor="let closeSched of closingSchedules" [value]="closeSched.valueTime">
                                                      {{ closeSched.sched }}
                                              </mat-option>
                                          </mat-select>
                                      </mat-form-field>
                                  </td>
                                </tr>
                              </table>
                              <table class="full-width">
                                    <tr> <mat-icon></mat-icon> <strong> Salario </strong> </tr>
                                    <tr>
                                      <td>
                                          <mat-form-field class="full-width">
                                              <mat-select 
                                                      required 
                                                      placeholder="Forma de pago" 
                                                      formControlName="salaryTypeFormControl">
                                                  <mat-option value="semanal">
                                                      Diario
                                                  </mat-option>
                                                  <mat-option value="semanal">
                                                      Semanal
                                                  </mat-option>
                                                  <mat-option value="quincenal">
                                                      Quincenal
                                                  </mat-option>
                                                  <mat-option value="mensual">
                                                      Mensual
                                                  </mat-option>
                                              </mat-select>
                                              <mat-hint>Tipo del periodo pago</mat-hint>
                                          </mat-form-field>
                                      </td>
                                      <td>  
                                          <mat-form-field class="full-width">
                                              <span matPrefix>$MXN &nbsp;</span>
                                              <input 
                                                  matInput
                                                  type="number"
                                                  placeholder="Salario"
                                                  required
                                                  min="0"
                                                  max="100000" 
                                                  formControlName="salaryFormControl">
                                                  <mat-hint>
                                                      Salario al tipo de pago seleccionado
                                                  </mat-hint>
                                          </mat-form-field>
                                      </td>  
                                      <td>
                                          <mat-form-field class="full-width">
                                              <span matPrefix>$MXN &nbsp;</span>
                                              <input 
                                                  matInput
                                                  type="number"
                                                  placeholder="Pago por horas extra"
                                                  required
                                                  min="0"
                                                  max="100000" 
                                                  formControlName="extraHoursSalaryFormControl">
                                                  <mat-hint>
                                                      Pago de horas extra por hora
                                                  </mat-hint>
                                          </mat-form-field>
                                      </td>                                  
                                    </tr>
                              </table>
                              <br>
                              <button [disabled]="!eventForm.valid" 
                                       mat-raised-button 
                                       type="submit" class="btn-login text-center">
                                    <span> CREAR EVENTO</span>
                              </button> 
                        </form>
                      </div>  
                    </mat-tab>
                  </mat-tab-group>
        </div>
    </div>
 </div>
</div>